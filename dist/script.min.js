let pokemonRepository=function(){let e=[],t=document.querySelector("#searchIn"),n=document.querySelector("#loading"),o="https://pokeapi.co/api/v2/pokemon/?limit=150";document.querySelector("#modal-container");function i(t){"object"==typeof t?e.push(t):alert("not possible")}function l(){n.classList.add("display"),setTimeout(function(){n.classList.remove("display")},5e3)}function r(){n.classList.remove("display")}function a(e){for(let t of Object.keys(e)){return e[t].type.name}}function c(e){l();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){r(),e.imageUrl=t.sprites.other.dream_world.front_default,e.height=t.height,e.types=t.types,a(t.types)}).catch(function(e){r(),console.error(e)})}function s(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}return t.addEventListener("input",function(){let e=document.querySelectorAll(".list-group-item"),n=t.value.toUpperCase();e.forEach(function(e){e.innerText.toUpperCase().indexOf(n)>-1?e.style.display="":e.style.display="none"})}),{add:i,getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".list-group"),n=document.createElement("li");n.classList.add("list-group-item"),n.classList.add("list-group-item-action");let o=document.createElement("button");o.innerText=s(e.name),o.classList.add("btn"),o.classList.add("btn-dark"),o.classList.add("btn-block"),o.classList.add("mb-2"),o.setAttribute("data-target","#pokemonModal"),o.setAttribute("data-toggle","modal"),t.appendChild(n),n.appendChild(o),o.addEventListener("click",function(t){!function(e){c(e).then(function(){!function(e){let t=document.querySelector(".modal-body"),n=document.querySelector(".modal-title");document.querySelector(".modal-header"),t.innerHTML="",n.innerHTML="";let o=document.createElement("h1");o.innerText=s(e.name),n.appendChild(o);let i=document.createElement("p");i.innerText=` is ${e.height}m tall and is a ${a(e.types)} type pokemon!`,t.appendChild(i);let l=document.createElement("img");t.appendChild(l),l.src=e.imageUrl,l.classList.add("img-element")}(e)})}(e)})},loadList:function(){return l(),fetch(o).then(function(e){return e.json()}).then(function(e){r(),e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).catch(function(e){r(),console.error(e)})},loadDetails:c}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
